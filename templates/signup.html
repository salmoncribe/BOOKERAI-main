{% extends "layout.html" %}
{% block title %}Join BookerAI ‚Äî Choose Your Plan{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}?v={{ asset_ver }}">
{% endblock %}

{% block content %}
<div class="blob blob-1"></div>
<div class="blob blob-2"></div>

<div class="auth-container-wrapper">

  <!-- üèÅ PHASE 1: Plan Selection -->
  <div id="planSelection" class="plan-selection fade-in">
    <div class="plan-header">
      <h1>Choose Your Path</h1>
      <p>Select the plan that fits your business needs.</p>
    </div>

    <div class="cards-grid">
      <!-- Free Plan -->
      <div class="plan-card" onclick="selectPlan('free')">
        <div class="icon">üöÄ</div>
        <div class="plan-name">Starter</div>
        <div class="plan-price">Free <span>/ forever</span></div>
        <ul class="features-list">
          <li>Basic Appointment Scheduling</li>
          <li>Client Management</li>
          <li>Personal Booking Link</li>
          <li>Mobile Dashboard App</li>
        </ul>
        <button class="plan-btn btn-free">Start Free</button>
      </div>

      <!-- Premium Plan -->
      <div class="plan-card premium" onclick="selectPlan('premium')">
        <div class="icon">üíé</div>
        <div class="plan-name">Premium <span
            style="font-size:0.8rem; background:#f3e8ff; color:#7e22ce; padding:2px 8px; border-radius:10px;">POPULAR</span>
        </div>
        <div class="plan-price">$20 <span>/ month</span></div>
        <ul class="features-list">
          <li><strong>Everything in Free, plus:</strong></li>
          <li>Automated Waitlists</li>
          <li>SMS Reminders & Marketing</li>
          <li>"Find a Pro" Directory Listing</li>
          <li>Portfolio Video & Photo Gallery</li>
        </ul>
        <button class="plan-btn btn-premium">Go Premium</button>
      </div>
    </div>
  </div>

  <!-- üèÅ PHASE 2: Signup Form -->
  <div id="authSection" class="auth-section hidden">
    <div class="auth-card">
      <button class="back-btn" onclick="showPlans()">
        ‚Üê Back to Plans
      </button>

      <div class="form-header">
        <h2 id="formTitle">Create Account</h2>
        <p id="formSubtitle">Set up your free account in seconds.</p>
      </div>

      <form method="post" action="{{ url_for('signup') }}" class="signup-form">
        <input type="hidden" name="selected_plan" id="selectedPlanInput" value="free">

        <div class="input-grid">
          <div class="full-width">
            <label for="name">Full Name</label>
            <input id="name" name="name" placeholder="e.g. Jordan Miller" required />
          </div>

          <!-- Email Group: Hidden for Premium -->
          <div class="full-width" id="emailGroup">
            <label for="email">Email Address</label>
            <input id="email" type="email" name="email" placeholder="e.g. jordan@example.com" />
          </div>

          <div class="full-width">
            <label for="password">Password</label>
            <input id="password" type="password" name="password" placeholder="Min. 8 characters" required />
          </div>

          <div class="full-width">
            <label for="phone">Phone Number</label>
            <input id="phone" name="phone" placeholder="(555) 123-4567" required />
          </div>

          <div class="full-width">
            <label for="address">Work Address / Location</label>
            <input id="address" name="address" placeholder="e.g. 123 Main St, Suite 4" required />
          </div>

          <div class="full-width">
            <label for="profession">Profession</label>
            <select id="profession" name="profession">
              <option value="barber">Barber</option>
              <option value="hairstylist">Hair Stylist</option>
              <option value="nail tech">Nail Tech</option>
              <option value="lash tech">Lash Tech</option>
              <option value="makeup artist">Makeup Artist</option>
              <option value="estor">Esthetician</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="full-width hidden" id="otherProfessionGroup">
            <label for="other_profession">Specific Profession</label>
            <input id="other_profession" type="text" placeholder="e.g. Tattoo Artist">
          </div>

          <div class="full-width">
            <label for="bio">Short Bio</label>
            <textarea id="bio" name="bio" rows="2" placeholder="Tell clients about your style..."></textarea>
          </div>

          <!-- Promo Code (Optional) -->
          <div class="full-width">
            <label for="promo_code">Promo Code (Optional)</label>
            <input id="promo_code" name="promo_code" placeholder="e.g. SAVE20" style="text-transform:uppercase;">
          </div>

        </div>

        <button type="submit" class="submit-btn" id="submitBtn">Create Account</button>

        <p class="alt-link">
          Already have an account? <a href="{{ url_for('login') }}">Log in</a>
        </p>
      </form>
    </div>
  </div>

</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/signup.js') }}"></script>
{% endblock %}