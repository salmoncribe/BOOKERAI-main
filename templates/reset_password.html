{% extends "layout.html" %}
{% block title %}Set New Password â€” BookerAI{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}?v={{ asset_ver }}">
{% endblock %}

{% block content %}
<div class="auth-page-body">
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>

    <div class="auth-container-wrapper">
        <div class="auth-section-card">
            <div class="auth-glass-card">
                <div class="form-header">
                    <h2>New Password ðŸ”‘</h2>
                    <p>Create a strong password for your account.</p>
                </div>

                {% with messages = get_flashed_messages() %}
                {% if messages %}
                <div class="flash-list" style="margin-bottom:1.5rem;">
                    {% for msg in messages %}
                    <div class="flash flash-error"
                        style="padding:0.75rem;background:#fee2e2;color:#b91c1c;border-radius:8px;font-size:0.9rem;margin-bottom:0.5rem;">
                        {{ msg }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
                {% endwith %}

                <form action="/api/auth/reset-password" method="post" class="form" novalidate>
                    <input type="hidden" name="token" value="{{ request.args.get('token') }}" />

                    <div class="input-group">
                        <label for="password">New Password</label>
                        <input id="password" name="password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required />
                        <span style="font-size: 0.8rem; color: #666;">Min 8 chars, 1 uppercase, 1 number.</span>
                    </div>

                    <div class="input-group">
                        <label for="confirm_password">Confirm Password</label>
                        <input id="confirm_password" name="confirm_password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                            required />
                    </div>

                    <button type="submit" class="submit-btn" style="margin-top: 1rem;">Reset Password</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}