{% extends "layout.html" %}
{% block title %}Demo â€” BookerAI Premium Preview{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}?v={{ asset_ver }}">
{% endblock %}

{% block content %}
<section class="dashboard vibrant-auth">
  <div class="animated-bg"></div>

  <!-- Header -->
  <div class="dash-header-left" style="display:flex;align-items:center;gap:1rem;">
    <div style="width:60px;height:60px;border-radius:50%;overflow:hidden;">
      <img src="{{ url_for('static', filename='img/demo_barber.jpg') }}" 
           alt="Demo Barber" 
           style="width:100%;height:100%;object-fit:cover;border-radius:50%;">
    </div>
    <div>
      <h1 class="dash-title">Welcome, Demo Barber ðŸ’ˆ</h1>
      <p class="muted small">Experience the BookerAI Premium dashboard.</p>
    </div>
  </div>

  <!-- Actions -->
  <div class="dash-actions">
    <button class="btn-primary gradient-btn small" onclick="alert('This is a demo!')">
      Copy booking link
    </button>
    <a class="btn btn-secondary small" href="#" onclick="alert('Demo only!');return false;">
      Open public page
    </a>
  </div>

  <!-- Insights -->
  <div class="insights-grid fade-up">
    <div class="insight-card"><h4>Total Clients</h4><p>243</p></div>
    <div class="insight-card"><h4>Bookings This Month</h4><p>76</p></div>
    <div class="insight-card"><h4>Earnings</h4><p>$4,520</p></div>
  </div>

  <!-- Appointments -->
  <div class="wow-card appointments-card">
    <h3>Upcoming Appointments</h3>
    <div class="table-scroll">
      <table class="table">
        <thead><tr><th>Client</th><th>Phone</th><th>When</th><th></th></tr></thead>
        <tbody>
          <tr><td>Sarah Lopez</td><td><a href="#">(806) 555-3921</a></td><td>Sat, Nov 9 â€¢ 2:30 PM</td><td><button class="btn btn-secondary small">Cancel</button></td></tr>
          <tr><td>James Ortiz</td><td><a href="#">(806) 555-8942</a></td><td>Sun, Nov 10 â€¢ 11:00 AM</td><td><button class="btn btn-secondary small">Cancel</button></td></tr>
          <tr><td>Maria Johnson</td><td><a href="#">(806) 555-0192</a></td><td>Mon, Nov 11 â€¢ 3:00 PM</td><td><button class="btn btn-secondary small">Cancel</button></td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Hours -->
  <div class="wow-card hours-card">
    <div class="hours-header">
      <h3>Set Your Hours</h3>
      <button id="copyMonday" class="copy-all">Copy Monday â†’ All Days</button>
    </div>
    <div id="hoursList" class="hours-grid">
      {% for d in ["mon","tue","wed","thu","fri","sat","sun"] %}
      <div class="day-editor" data-day="{{ d }}">
        <h4>{{ d|capitalize }}</h4>
        <div class="toggle-wrap">
          <div class="day-toggle active" data-day="{{ d }}"></div>
        </div>
        <div class="time-inputs">
          <input type="time" class="open-time" value="09:00">
          <span>â€“</span>
          <input type="time" class="close-time" value="17:00">
        </div>
        <div class="save-check">âœ…</div>
      </div>
      {% endfor %}
    </div>
  </div>

  <div id="toast" class="toast">Hours saved successfully</div>

  <!-- Footer -->
  <footer style="text-align:center;margin-top:3rem;">
    <p class="muted small">
      Want this real dashboard? 
      <a href="{{ url_for('signup') }}" class="gradient-btn small" style="margin-left:0.5rem;">Sign Up Free</a>
    </p>
  </footer>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll(".fade-up").forEach(el => {
    const rect = el.getBoundingClientRect();
    if (rect.top < window.innerHeight - 80) el.classList.add("visible");
  });

  document.querySelectorAll(".cancel-btn, .btn-secondary.small").forEach(btn => {
    btn.addEventListener("click", e => {
      e.preventDefault();
      alert("This is a demo! You canâ€™t cancel appointments here.");
    });
  });
});
</script>
{% endblock %}
